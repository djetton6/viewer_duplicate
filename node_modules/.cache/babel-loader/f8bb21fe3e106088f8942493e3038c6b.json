{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Desmend Jetton\\\\Documents\\\\GitHub\\\\viewer_duplicate\\\\src\\\\app\\\\Settings\\\\Search.js\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { backgroundColor2, fontSize2 } from \"../Shared/Styles\";\nimport { AppContext } from \"../AppProvider\";\nimport _ from \"lodash\";\nimport fuzzy from \"fuzzy\";\nconst SearchGrid = styled.div`\n  display: grid;\n  grid-template-columns: 200px 1fr;\n`;\nconst SearchInput = styled.input`\n  ${backgroundColor2}\n  color: #1163c9;\n  ${fontSize2}\n  border: 1px solid;\n  height: 25px;\n  place-self: center left;\n`; //too stop instant event handling\n\nconst handleFilter = _.debounce((inputValue, coinList, setFilterCoins) => {\n  console.log(inputValue); //Get all the symbols\n\n  let coinSymbols = Object.keys(coinList); //Get all coin names, mapping symbols to name\n\n  let coinNames = coinSymbols.map(sym => coinList[sym].CoinName);\n  let allStringsToSearch = coinSymbols.concat(coinNames);\n  let fuzzyResults = fuzzy.filter(inputValue, allStringsToSearch, {}).map(result => result.string);\n\n  let filteredCoins = _.pickBy(coinList, (result, symKey) => {\n    let coinName = result.CoinName;\n    return _.includes(fuzzyResults, symKey) || _.includes(fuzzyResults, coinName);\n  });\n\n  setFilterCoins(filteredCoins);\n}, 500);\n\nfunction filterCoins(e, setFilteredCoins, coinList) {\n  let inputValue = e.target.value;\n\n  if (!inputValue) {\n    setFilteredCoins(null);\n    return;\n  }\n\n  handleFilter(inputValue, coinList, setFilteredCoins);\n}\n\nexport default function () {\n  return React.createElement(AppContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, ({\n    setFilteredCoins,\n    coinList\n  }) => React.createElement(SearchGrid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Search All\"), React.createElement(SearchInput, {\n    onKeyUp: e => filterCoins(e, setFilteredCoins, coinList),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["C:/Users/Desmend Jetton/Documents/GitHub/viewer_duplicate/src/app/Settings/Search.js"],"names":["React","styled","backgroundColor2","fontSize2","AppContext","_","fuzzy","SearchGrid","div","SearchInput","input","handleFilter","debounce","inputValue","coinList","setFilterCoins","console","log","coinSymbols","Object","keys","coinNames","map","sym","CoinName","allStringsToSearch","concat","fuzzyResults","filter","result","string","filteredCoins","pickBy","symKey","coinName","includes","filterCoins","e","setFilteredCoins","target","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,gBAAT,EAA2BC,SAA3B,QAA4C,kBAA5C;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,UAAU,GAAGN,MAAM,CAACO,GAAI;;;CAA9B;AAKA,MAAMC,WAAW,GAAGR,MAAM,CAACS,KAAM;IAC7BR,gBAAiB;;IAEjBC,SAAU;;;;CAHd,C,CASA;;AACA,MAAMQ,YAAY,GAAGN,CAAC,CAACO,QAAF,CAAW,CAACC,UAAD,EAAaC,QAAb,EAAuBC,cAAvB,KAA0C;AACxEC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ,EADwE,CAExE;;AACA,MAAIK,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYN,QAAZ,CAAlB,CAHwE,CAIxE;;AACA,MAAIO,SAAS,GAAGH,WAAW,CAACI,GAAZ,CAAgBC,GAAG,IAAIT,QAAQ,CAACS,GAAD,CAAR,CAAcC,QAArC,CAAhB;AACA,MAAIC,kBAAkB,GAAGP,WAAW,CAACQ,MAAZ,CAAmBL,SAAnB,CAAzB;AACA,MAAIM,YAAY,GAAGrB,KAAK,CACrBsB,MADgB,CACTf,UADS,EACGY,kBADH,EACuB,EADvB,EAEhBH,GAFgB,CAEZO,MAAM,IAAIA,MAAM,CAACC,MAFL,CAAnB;;AAIA,MAAIC,aAAa,GAAG1B,CAAC,CAAC2B,MAAF,CAASlB,QAAT,EAAmB,CAACe,MAAD,EAASI,MAAT,KAAoB;AACzD,QAAIC,QAAQ,GAAGL,MAAM,CAACL,QAAtB;AACA,WACEnB,CAAC,CAAC8B,QAAF,CAAWR,YAAX,EAAyBM,MAAzB,KAAoC5B,CAAC,CAAC8B,QAAF,CAAWR,YAAX,EAAyBO,QAAzB,CADtC;AAGD,GALmB,CAApB;;AAMAnB,EAAAA,cAAc,CAACgB,aAAD,CAAd;AACD,CAlBoB,EAkBlB,GAlBkB,CAArB;;AAoBA,SAASK,WAAT,CAAqBC,CAArB,EAAwBC,gBAAxB,EAA0CxB,QAA1C,EAAoD;AAClD,MAAID,UAAU,GAAGwB,CAAC,CAACE,MAAF,CAASC,KAA1B;;AACA,MAAI,CAAC3B,UAAL,EAAiB;AACfyB,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA;AACD;;AACD3B,EAAAA,YAAY,CAACE,UAAD,EAAaC,QAAb,EAAuBwB,gBAAvB,CAAZ;AACD;;AAED,eAAe,YAAW;AACxB,SACE,oBAAC,UAAD,CAAY,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAAEA,IAAAA,gBAAF;AAAoBxB,IAAAA;AAApB,GAAD,KACC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,WAAD;AACE,IAAA,OAAO,EAAEuB,CAAC,IAAID,WAAW,CAACC,CAAD,EAAIC,gBAAJ,EAAsBxB,QAAtB,CAD3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFJ,CADF;AAYD","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { backgroundColor2, fontSize2 } from \"../Shared/Styles\";\r\nimport { AppContext } from \"../AppProvider\";\r\nimport _ from \"lodash\";\r\nimport fuzzy from \"fuzzy\";\r\n\r\nconst SearchGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 200px 1fr;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  ${backgroundColor2}\r\n  color: #1163c9;\r\n  ${fontSize2}\r\n  border: 1px solid;\r\n  height: 25px;\r\n  place-self: center left;\r\n`;\r\n\r\n//too stop instant event handling\r\nconst handleFilter = _.debounce((inputValue, coinList, setFilterCoins) => {\r\n  console.log(inputValue);\r\n  //Get all the symbols\r\n  let coinSymbols = Object.keys(coinList);\r\n  //Get all coin names, mapping symbols to name\r\n  let coinNames = coinSymbols.map(sym => coinList[sym].CoinName);\r\n  let allStringsToSearch = coinSymbols.concat(coinNames);\r\n  let fuzzyResults = fuzzy\r\n    .filter(inputValue, allStringsToSearch, {})\r\n    .map(result => result.string);\r\n\r\n  let filteredCoins = _.pickBy(coinList, (result, symKey) => {\r\n    let coinName = result.CoinName;\r\n    return (\r\n      _.includes(fuzzyResults, symKey) || _.includes(fuzzyResults, coinName)\r\n    );\r\n  });\r\n  setFilterCoins(filteredCoins);\r\n}, 500);\r\n\r\nfunction filterCoins(e, setFilteredCoins, coinList) {\r\n  let inputValue = e.target.value;\r\n  if (!inputValue) {\r\n    setFilteredCoins(null);\r\n    return;\r\n  }\r\n  handleFilter(inputValue, coinList, setFilteredCoins);\r\n}\r\n\r\nexport default function() {\r\n  return (\r\n    <AppContext.Consumer>\r\n      {({ setFilteredCoins, coinList }) => (\r\n        <SearchGrid>\r\n          <h2>Search All</h2>\r\n          <SearchInput\r\n            onKeyUp={e => filterCoins(e, setFilteredCoins, coinList)}\r\n          />\r\n        </SearchGrid>\r\n      )}\r\n    </AppContext.Consumer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}